{
  "path": "/src/web/components/ui/chart.tsx",
  "declarations": [
    {
      "type": "component",
      "definition": {
        "name": "ChartContainer",
        "purpose": "Provides a styled and context-aware container for rendering Recharts charts with theme-based color configuration.",
        "description": "A reusable React component that wraps Recharts charts, applies consistent styling, and injects chart configuration via React context. It supports both color and theme-based color configuration for chart elements, and ensures that all child chart components have access to the configuration.",
        "properties": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "Optional unique identifier for the chart container."
            },
            "className": {
              "type": "string",
              "description": "Additional CSS classes for the container."
            },
            "config": {
              "type": "object",
              "description": "Chart configuration object mapping keys to label/icon/color/theme definitions."
            },
            "children": {
              "type": "any",
              "description": "Chart content to render inside the container."
            }
          }
        },
        "initial": {
          "data": "Chart container with no chart rendered yet.",
          "ui": {
            "visible": ["Empty chart container with styling"],
            "enabled": ["All container props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "Chart configuration or children are provided.",
              "event": "Chart content or config changes"
            },
            "from": {
              "state": "Empty chart container"
            },
            "to": {
              "state": "Chart rendered with provided configuration and children"
            },
            "effects": [
              "Chart is rendered with correct theme and color variables applied."
            ]
          }
        ],
        "visualLayout": "A flex container with aspect ratio, custom CSS variables, and a nested ResponsiveContainer for chart rendering.",
        "implementationNotes": "Uses React context to provide chart config to children. Applies theme-based CSS variables for color customization. Integrates with Recharts ResponsiveContainer.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [
          {
            "importPath": "src/web/lib/utils",
            "dependsOn": ["cn"]
          }
        ],
        "external": [
          {
            "name": "react",
            "importPath": "react",
            "dependsOn": ["useId", "createContext", "useContext", "useMemo"]
          },
          {
            "name": "recharts",
            "importPath": "recharts",
            "dependsOn": ["ResponsiveContainer"]
          }
        ]
      },
      "name": "ChartContainer"
    },
    {
      "type": "component",
      "definition": {
        "name": "ChartStyle",
        "purpose": "Injects theme-based CSS variables for chart color configuration into the DOM.",
        "description": "A React component that generates a <style> tag with CSS variables for chart colors, based on the provided chart configuration and theme. Used internally by ChartContainer to support light/dark theming of chart elements.",
        "properties": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "Unique chart container id for scoping CSS."
            },
            "config": {
              "type": "object",
              "description": "Chart configuration object mapping keys to label/icon/color/theme definitions."
            }
          }
        },
        "initial": {
          "data": "No style injected if no color or theme config is present.",
          "ui": {
            "visible": ["No <style> tag or an empty <style> tag"],
            "enabled": ["All props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "Chart config includes color or theme values.",
              "event": "Chart config with color or theme"
            },
            "from": {
              "state": "No style injected"
            },
            "to": {
              "state": "<style> tag injected with CSS variables for chart colors"
            },
            "effects": [
              "CSS variables for chart colors are available in the chart container."
            ]
          }
        ],
        "visualLayout": "A <style> tag scoped to the chart container using [data-chart=id] selector.",
        "implementationNotes": "Iterates over config and THEMES to generate CSS for each theme. Uses dangerouslySetInnerHTML to inject CSS.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [],
        "external": []
      },
      "name": "ChartStyle"
    },
    {
      "type": "component",
      "definition": {
        "name": "ChartTooltip",
        "purpose": "Provides a tooltip for Recharts charts.",
        "description": "A wrapper around RechartsPrimitive.Tooltip, used to display tooltips in charts. Exposes all the props of the underlying Recharts Tooltip component.",
        "properties": {
          "type": "object",
          "properties": {}
        },
        "initial": {
          "data": "No tooltip displayed.",
          "ui": {
            "visible": ["No tooltip"],
            "enabled": ["All tooltip props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "User hovers or interacts with a chart element.",
              "event": "Tooltip trigger"
            },
            "from": {
              "state": "No tooltip"
            },
            "to": {
              "state": "Tooltip displayed with relevant data"
            },
            "effects": ["Tooltip is shown with chart data."]
          }
        ],
        "visualLayout": "Tooltip overlay rendered by Recharts.",
        "implementationNotes": "Directly re-exports RechartsPrimitive.Tooltip.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [],
        "external": [
          {
            "name": "recharts",
            "importPath": "recharts",
            "dependsOn": ["Tooltip"]
          }
        ]
      },
      "name": "ChartTooltip"
    },
    {
      "type": "component",
      "definition": {
        "name": "ChartTooltipContent",
        "purpose": "Customizes the content of the chart tooltip with support for labels, indicators, and formatting.",
        "description": "A reusable React component for rendering custom tooltip content in Recharts charts. Supports custom label formatting, indicators (dot, line, dashed), hiding labels or indicators, and custom value formatting. Uses chart config from context to display icons and labels.",
        "properties": {
          "type": "object",
          "properties": {
            "active": {
              "type": "boolean",
              "description": "Whether the tooltip is active."
            },
            "payload": {
              "type": "array",
              "description": "The data payload for the tooltip."
            },
            "className": {
              "type": "string",
              "description": "Additional CSS classes for the tooltip content."
            },
            "indicator": {
              "type": "string",
              "description": "Indicator style: 'dot', 'line', or 'dashed'."
            },
            "hideLabel": {
              "type": "boolean",
              "description": "Whether to hide the label."
            },
            "hideIndicator": {
              "type": "boolean",
              "description": "Whether to hide the indicator."
            },
            "label": {
              "type": "any",
              "description": "Label for the tooltip."
            },
            "labelFormatter": {
              "type": "function",
              "description": "Custom function to format the label."
            },
            "labelClassName": {
              "type": "string",
              "description": "CSS class for the label."
            },
            "formatter": {
              "type": "function",
              "description": "Custom function to format the value."
            },
            "color": {
              "type": "string",
              "description": "Color for the indicator."
            },
            "nameKey": {
              "type": "string",
              "description": "Key to use for the name in the payload."
            },
            "labelKey": {
              "type": "string",
              "description": "Key to use for the label in the payload."
            }
          }
        },
        "initial": {
          "data": "No tooltip content displayed.",
          "ui": {
            "visible": ["No tooltip content"],
            "enabled": ["All tooltip content props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "Tooltip is active and payload is present.",
              "event": "Tooltip activated"
            },
            "from": {
              "state": "No tooltip content"
            },
            "to": {
              "state": "Tooltip content rendered with formatted values, labels, and indicators"
            },
            "effects": [
              "Tooltip content is shown with custom formatting and icons."
            ]
          }
        ],
        "visualLayout": "A styled div with grid layout, label, and a list of payload items with indicators and values.",
        "implementationNotes": "Uses useChart context for config. Supports custom icons, label formatting, and indicator styles.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [
          {
            "importPath": "src/web/lib/utils",
            "dependsOn": ["cn"]
          }
        ],
        "external": [
          {
            "name": "react",
            "importPath": "react",
            "dependsOn": ["useMemo"]
          }
        ]
      },
      "name": "ChartTooltipContent"
    },
    {
      "type": "component",
      "definition": {
        "name": "ChartLegend",
        "purpose": "Provides a legend for Recharts charts.",
        "description": "A wrapper around RechartsPrimitive.Legend, used to display legends in charts. Exposes all the props of the underlying Recharts Legend component.",
        "properties": {
          "type": "object",
          "properties": {}
        },
        "initial": {
          "data": "No legend displayed.",
          "ui": {
            "visible": ["No legend"],
            "enabled": ["All legend props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "Chart with legend is rendered.",
              "event": "Legend rendered"
            },
            "from": {
              "state": "No legend"
            },
            "to": {
              "state": "Legend displayed with chart data"
            },
            "effects": ["Legend is shown with chart data."]
          }
        ],
        "visualLayout": "Legend overlay rendered by Recharts.",
        "implementationNotes": "Directly re-exports RechartsPrimitive.Legend.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [],
        "external": [
          {
            "name": "recharts",
            "importPath": "recharts",
            "dependsOn": ["Legend"]
          }
        ]
      },
      "name": "ChartLegend"
    },
    {
      "type": "component",
      "definition": {
        "name": "ChartLegendContent",
        "purpose": "Customizes the content of the chart legend with support for icons and labels from chart config.",
        "description": "A reusable React component for rendering custom legend content in Recharts charts. Uses chart config from context to display icons and labels for each legend item. Supports hiding icons and customizing alignment.",
        "properties": {
          "type": "object",
          "properties": {
            "className": {
              "type": "string",
              "description": "Additional CSS classes for the legend content."
            },
            "hideIcon": {
              "type": "boolean",
              "description": "Whether to hide the icon."
            },
            "payload": {
              "type": "array",
              "description": "Legend payload data."
            },
            "verticalAlign": {
              "type": "string",
              "description": "Vertical alignment of the legend."
            },
            "nameKey": {
              "type": "string",
              "description": "Key to use for the name in the payload."
            }
          }
        },
        "initial": {
          "data": "No legend content displayed.",
          "ui": {
            "visible": ["No legend content"],
            "enabled": ["All legend content props"]
          }
        },
        "transitions": [
          {
            "when": {
              "description": "Legend payload is present.",
              "event": "Legend rendered"
            },
            "from": {
              "state": "No legend content"
            },
            "to": {
              "state": "Legend content rendered with icons and labels"
            },
            "effects": [
              "Legend content is shown with custom icons and labels from config."
            ]
          }
        ],
        "visualLayout": "A flex container with legend items, each showing an icon or color dot and a label.",
        "implementationNotes": "Uses useChart context for config. Supports custom icons and label rendering.",
        "subtype": "reusable"
      },
      "dependencies": {
        "internal": [
          {
            "importPath": "src/web/lib/utils",
            "dependsOn": ["cn"]
          }
        ],
        "external": []
      },
      "name": "ChartLegendContent"
    },
    {
      "type": "function",
      "name": "useChart",
      "description": "A React hook that provides access to the chart configuration context. Throws an error if used outside of a ChartContainer.",
      "parameters": {},
      "returns": {
        "type": "object",
        "description": "The chart configuration context, including the config object."
      },
      "signature": "function useChart(): ChartContextProps",
      "implementationNotes": "Uses React.useContext to access ChartContext. Throws if context is null.",
      "dependencies": {
        "internal": [],
        "external": [
          {
            "name": "react",
            "importPath": "react",
            "dependsOn": ["useContext"]
          }
        ]
      }
    },
    {
      "type": "function",
      "name": "getPayloadConfigFromPayload",
      "description": "Helper function to extract the relevant chart config for a given payload item and key. Handles nested payloads and key resolution.",
      "parameters": {
        "type": "object",
        "properties": {
          "config": {
            "type": "object",
            "description": "Chart configuration object."
          },
          "payload": {
            "type": "any",
            "description": "Payload item from Recharts."
          },
          "key": {
            "type": "string",
            "description": "Key to look up in the config."
          }
        }
      },
      "returns": {
        "type": "object",
        "description": "The config entry for the given key, or undefined if not found."
      },
      "signature": "function getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string): ChartConfig[string] | undefined",
      "implementationNotes": "Checks for key in payload and nested payload, resolves the correct config key, and returns the config entry if found.",
      "dependencies": {
        "internal": [],
        "external": []
      }
    }
  ]
}
