import type { OpenAPIHono, RouteConfig, RouteHandler } from "@hono/zod-openapi";
{{#if auth}}import type { auth } from "@server/lib/auth";{{/if}}
import type { Schema } from "hono";
{{#if database}}import type { db } from "./db";{{/if}}

export type AppBindings = {
  {{#if (not (and auth database))}}
	// biome-ignore lint/complexity/noBannedTypes: <explanation>
  {{/if}}
	Variables: {
		{{#if auth}}session: typeof auth.$Infer.Session | null;{{/if}}
		{{#if database}}db: typeof db;{{/if}}
	};
};

// biome-ignore lint/complexity/noBannedTypes: <explanation>
export type AppOpenAPI<S extends Schema = {}> = OpenAPIHono<AppBindings, S>;
export type AppRouteHandler<R extends RouteConfig> = RouteHandler<
	R,
	AppBindings
>;
